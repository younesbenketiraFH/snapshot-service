<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Snapshot Dashboard - Legal Evidence System</title>
    <link rel="stylesheet" href="/dashboard.css">
</head>
<body>
    <header class="dashboard-header">
        <h1>üì∏ Snapshot Dashboard</h1>
        <p class="legal-notice">‚öñÔ∏è Legal Evidence System - Exact DOM Rendering</p>
    </header>

    <main class="dashboard-main">
        <!-- Snapshots List View -->
        <div id="snapshots-view" class="view-container">
            <div class="view-header">
                <h2>Captured Snapshots</h2>
                <div class="header-actions">
                    <button id="delete-all-btn" class="btn btn-danger">üóëÔ∏è Delete All</button>
                    <button id="refresh-btn" class="btn btn-primary">üîÑ Refresh</button>
                </div>
            </div>
            
            <div class="filters">
                <input type="text" id="url-filter" placeholder="Filter by URL..." class="filter-input">
                <select id="date-filter" class="filter-select">
                    <option value="">All dates</option>
                    <option value="today">Today</option>
                    <option value="week">Last week</option>
                    <option value="month">Last month</option>
                </select>
                <span class="results-count" id="results-count">Loading...</span>
            </div>

            <div id="snapshots-list" class="snapshots-grid">
                <div class="loading">Loading snapshots...</div>
            </div>
        </div>

        <!-- Snapshot Viewer -->
        <div id="snapshot-view" class="view-container" style="display: none;">
            <div class="view-header">
                <button id="back-btn" class="btn btn-secondary">‚Üê Back to List</button>
                <h2 id="snapshot-title">Snapshot Details</h2>
                <div class="snapshot-actions">
                    <!-- Actions will be added here -->
                </div>
            </div>

            <div class="snapshot-metadata" id="snapshot-metadata">
                <!-- Metadata will be populated here -->
            </div>

            <div class="snapshot-viewer">
                <!-- Tab Navigation -->
                <div class="tab-navigation">
                    <button id="screenshot-tab" class="tab-btn">üì∏ Screenshot</button>
                    <button id="dom-tab" class="tab-btn active">üåê DOM View</button>
                </div>
                
                <!-- Screenshot Tab Content -->
                <div id="screenshot-content" class="tab-content">
                    <div class="screenshot-status" id="screenshot-status">
                        <div class="loading">Loading screenshot...</div>
                    </div>
                    <img id="screenshot-image" style="max-width: 100%; height: auto; display: none;" alt="Snapshot Screenshot">
                </div>
                
                <!-- DOM Tab Content -->
                <div id="dom-content" class="tab-content active">
                    <div class="dom-status" id="dom-status">
                        <div class="loading">Loading DOM preview...</div>
                    </div>
                    <iframe id="dom-frame" style="width: 100%; height: 80vh; border: 1px solid #ddd; display: none;" 
                            title="DOM Preview"></iframe>
                </div>
            </div>

            <div class="legal-footer">
                <p><strong>‚öñÔ∏è Legal Notice:</strong> This screenshot represents the exact visual state as captured at the specified timestamp for legal evidence purposes.</p>
            </div>
        </div>
    </main>

    <script src="/dashboard.js"></script>
</body>
</html>